<div *ngIf=!redirecting>
  <mat-card>
    <app-product [productId]="productId"
                 [preview]="true"></app-product>
  </mat-card>

  <mat-card>
    <h3>Payment Options</h3>
    <mat-radio-group [(ngModel)]="paymentType">
      <mat-radio-button class="example-margin" value="invoice">Invoice</mat-radio-button>
      <mat-radio-button class="example-margin" value="stripe">Stripe</mat-radio-button>
    </mat-radio-group>

    <h3>Shipping Details</h3>
    <mat-form-field>
      <input matInput type="text" placeholder="first name" name="first name" [(ngModel)]="orderFirstName">
    </mat-form-field>

    <mat-form-field>
      <input matInput type="text" placeholder="last name" name="last name" [(ngModel)]="orderLastName">
    </mat-form-field>

    <br>

    <mat-form-field>
      <input matInput type="text" placeholder="street" name="street" [(ngModel)]="orderStreet">
    </mat-form-field>

    <mat-form-field>
      <input matInput type="text" placeholder="house number" name="house number" [(ngModel)]="orderHouseNr" (ngModelChange)="updateHouseNrMessage()">
      <mat-hint style="color: red" *ngIf="houseNrMessage!=''">{{houseNrMessage}}</mat-hint>
    </mat-form-field>

    <br>

    <mat-form-field>
      <input matInput type="text" placeholder="zip code" name="zip code" [(ngModel)]="orderZipCode" (ngModelChange)="updateZipCodeMessage()">
      <mat-hint style="color: red" *ngIf="zipCodeMessage!=''">{{zipCodeMessage}}</mat-hint>
    </mat-form-field>

    <mat-form-field>
      <input matInput type="text" placeholder="city" name="city" [(ngModel)]="orderCity">
    </mat-form-field>

    <br>

    <mat-form-field>
      <input matInput type="text" placeholder="phone number" name="phone number" [(ngModel)]="orderPhoneNr" (ngModelChange)="updatePhoneNrMessage()">
      <mat-hint style="color: red" *ngIf="phoneNrMessage!=''">{{phoneNrMessage}}</mat-hint>
    </mat-form-field>
    <br>

  </mat-card>
  <span id="emptyFields" style="visibility: hidden"> Please fill out all the address details. </span>
  <p>
    <button (click)="confirmOrder()" > Confirm Order </button>
  </p>
</div>

<div *ngIf="redirecting">
  <h1>redirecting to secure payment site...</h1>
</div>

